<script>
  document.registerElement( 'fetch-tag', class extends HTMLElement {
    attachedCallback(){
      this.render()
    }
    attributeChangedCallback(name, oldValue, newValue){
      this.render()
    }
    render(){
      fetch( this.getAttribute('url') )
        .then( response => response.json() )
        .then( data => {
          this.firstElementChild
          .setAttribute( 'json', JSON.stringify(data.results) )
        })
    }
  });
</script>
